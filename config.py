"""
Configuration file for NIFTY 200 Trading Signal Bot
Contains all parameters, credentials and settings
"""

# Upstox API Credentials
UPSTOX_API_KEY = "ad55de1b-c7d1-4adc-b559-3830bf1efd72"
UPSTOX_API_SECRET = "969nyjgapm"
UPSTOX_REDIRECT_URI = "https://localhost"
UPSTOX_ACCESS_TOKEN = "eyJ0eXAiOiJKV1QiLCJrZXlfaWQiOiJza192MS4wIiwiYWxnIjoiSFMyNTYifQ.eyJzdWIiOiI0TEFGUDkiLCJqdGkiOiI2N2UzNzhmZTMzMDFjNDE0MGRjZWY1NjMiLCJpc011bHRpQ2xpZW50IjpmYWxzZSwiaWF0IjoxNzQyOTYwODk0LCJpc3MiOiJ1ZGFwaS1nYXRld2F5LXNlcnZpY2UiLCJleHAiOjE3NDMwMjY0MDB9.LClpwKGUVL9j24NQvUDkMtx0yGDIPg9vvj4Fj5Ur7Mw"

# Telegram Configuration
TELEGRAM_BOT_TOKEN = "7209852741:AAEf-_f6TeZK1-_R55yq365iU_54rk95y-c"
TELEGRAM_CHAT_ID = "936205208"
ENABLE_TELEGRAM_ALERTS = True

HISTORICAL_DAYS = 365

# Stock Universe
# List of NIFTY 200 stocks to analyze (instrument IDs from Upstox)
STOCK_LIST = [
    "NSE_EQ|INE117A01022", "NSE_EQ|INE012A01025", "NSE_EQ|INE702C01027", "NSE_EQ|INE949L01017", "NSE_EQ|INE931S01010", "NSE_EQ|INE423A01024", "NSE_EQ|INE364U01010", "NSE_EQ|INE742F01042", "NSE_EQ|INE814H01011", "NSE_EQ|INE399L01023", "NSE_EQ|INE674K01013", "NSE_EQ|INE647O01011", "NSE_EQ|INE540L01014", "NSE_EQ|INE079A01024", "NSE_EQ|INE437A01024", "NSE_EQ|INE438A01022", "NSE_EQ|INE208A01029", "NSE_EQ|INE021A01026", "NSE_EQ|INE006I01046", "NSE_EQ|INE406A01037", "NSE_EQ|INE192R01011", "NSE_EQ|INE238A01034", "NSE_EQ|INE118H01025", "NSE_EQ|INE917I01010", "NSE_EQ|INE296A01024", "NSE_EQ|INE918I01026", "NSE_EQ|INE118A01012", "NSE_EQ|INE787D01026", "NSE_EQ|INE545U01014", "NSE_EQ|INE028A01039", "NSE_EQ|INE084A01016", "NSE_EQ|INE457A01014", "NSE_EQ|INE171Z01026", "NSE_EQ|INE263A01024", "NSE_EQ|INE465A01025", "NSE_EQ|INE257A01026", "NSE_EQ|INE029A01011", "NSE_EQ|INE397D01024", "NSE_EQ|INE343G01021", "NSE_EQ|INE376G01013", "NSE_EQ|INE323A01026", "NSE_EQ|INE216A01030", "NSE_EQ|INE067A01029", "NSE_EQ|INE476A01022", "NSE_EQ|INE121A01024", "NSE_EQ|INE059A01026", "NSE_EQ|INE522F01014", "NSE_EQ|INE704P01025", "NSE_EQ|INE591G01017", "NSE_EQ|INE259A01022", "NSE_EQ|INE111A01025", "NSE_EQ|INE298A01020", "NSE_EQ|INE271C01023", "NSE_EQ|INE016A01026", "NSE_EQ|INE148O01028", "NSE_EQ|INE361B01024", "NSE_EQ|INE935N01020", "NSE_EQ|INE089A01031", "NSE_EQ|INE066A01021", "NSE_EQ|INE042A01014", "NSE_EQ|INE302A01020", "NSE_EQ|INE388Y01029", "NSE_EQ|INE171A01029", "NSE_EQ|INE188A01015", "NSE_EQ|INE129A01019", "NSE_EQ|INE776C01039", "NSE_EQ|INE102D01028", "NSE_EQ|INE484J01027", "NSE_EQ|INE047A01021", "NSE_EQ|INE860A01027", "NSE_EQ|INE127D01025", "NSE_EQ|INE040A01034", "NSE_EQ|INE795G01014", "NSE_EQ|INE176B01034", "NSE_EQ|INE158A01026", "NSE_EQ|INE038A01020", "NSE_EQ|INE066F01020", "NSE_EQ|INE094A01015", "NSE_EQ|INE030A01027", "NSE_EQ|INE267A01025", "NSE_EQ|INE031A01017", "NSE_EQ|INE090A01021", "NSE_EQ|INE765G01017", "NSE_EQ|INE726G01019", "NSE_EQ|INE008A01015", "NSE_EQ|INE092T01019", "NSE_EQ|INE821I01022", "NSE_EQ|INE154A01025", "NSE_EQ|INE562A01011", "NSE_EQ|INE053A01029", "NSE_EQ|INE242A01010", "NSE_EQ|INE565A01014", "NSE_EQ|INE335Y01020", "NSE_EQ|INE053F01010", "NSE_EQ|INE202E01016", "NSE_EQ|INE203G01027", "NSE_EQ|INE121J01017", "NSE_EQ|INE095A01012", "NSE_EQ|INE663F01024", "NSE_EQ|INE009A01021", "NSE_EQ|INE646L01027", "NSE_EQ|INE121E01018", "NSE_EQ|INE880J01026", "NSE_EQ|INE019A01038", "NSE_EQ|INE749A01030", "NSE_EQ|INE758E01017", "NSE_EQ|INE797F01020", "NSE_EQ|INE04I401011", "NSE_EQ|INE303R01014", "NSE_EQ|INE237A01028", "NSE_EQ|INE498L01015", "NSE_EQ|INE115A01026", "NSE_EQ|INE214T01019", "NSE_EQ|INE018A01030", "NSE_EQ|INE0J1Y01017", "NSE_EQ|INE326A01037", "NSE_EQ|INE883A01011", "NSE_EQ|INE670K01029", "NSE_EQ|INE774D01024", "NSE_EQ|INE101A01026", "NSE_EQ|INE103A01014", "NSE_EQ|INE634S01028", "NSE_EQ|INE196A01026", "NSE_EQ|INE585B01010", "NSE_EQ|INE180A01020", "NSE_EQ|INE027H01010", "NSE_EQ|INE249Z01020", "NSE_EQ|INE356A01018", "NSE_EQ|INE414G01012", "NSE_EQ|INE848E01016", "NSE_EQ|INE589A01014", "NSE_EQ|INE584A01023", "NSE_EQ|INE733E01010", "NSE_EQ|INE239A01024", "NSE_EQ|INE093I01010", "NSE_EQ|INE213A01029", "NSE_EQ|INE274J01014", "NSE_EQ|INE982J01020", "NSE_EQ|INE881D01027", "NSE_EQ|INE417T01026", "NSE_EQ|INE603J01030", "NSE_EQ|INE761H01022", "NSE_EQ|INE619A01035", "NSE_EQ|INE262H01021", "NSE_EQ|INE347G01014", "NSE_EQ|INE211B01039", "NSE_EQ|INE318A01026", "NSE_EQ|INE455K01017", "NSE_EQ|INE511C01022", "NSE_EQ|INE134E01011", "NSE_EQ|INE752E01010", "NSE_EQ|INE811K01011", "NSE_EQ|INE160A01022", "NSE_EQ|INE020B01018", "NSE_EQ|INE415G01027", "NSE_EQ|INE002A01018", "NSE_EQ|INE018E01016", "NSE_EQ|INE123W01016", "NSE_EQ|INE002L01015", "NSE_EQ|INE647A01010", "NSE_EQ|INE775A01035", "NSE_EQ|INE070A01015", "NSE_EQ|INE721A01047", "NSE_EQ|INE003A01024", "NSE_EQ|INE343H01029", "NSE_EQ|INE073K01018", "NSE_EQ|INE062A01020", "NSE_EQ|INE114A01011", "NSE_EQ|INE044A01036", "NSE_EQ|INE660A01013", "NSE_EQ|INE195A01028", "NSE_EQ|INE040H01021", "NSE_EQ|INE494B01023", "NSE_EQ|INE092A01019", "NSE_EQ|INE151A01013", "NSE_EQ|INE467B01029", "NSE_EQ|INE192A01025", "NSE_EQ|INE670A01012", "NSE_EQ|INE155A01022", "NSE_EQ|INE245A01021", "NSE_EQ|INE081A01020", "NSE_EQ|INE142M01025", "NSE_EQ|INE669C01036", "NSE_EQ|INE280A01028", "NSE_EQ|INE685A01028", "NSE_EQ|INE813H01021", "NSE_EQ|INE849A01020", "NSE_EQ|INE974X01010", "NSE_EQ|INE628A01036", "NSE_EQ|INE481G01011", "NSE_EQ|INE692A01016", "NSE_EQ|INE854D01024", "NSE_EQ|INE200M01039", "NSE_EQ|INE205A01025", "NSE_EQ|INE669E01016", "NSE_EQ|INE226A01021", "NSE_EQ|INE075A01022", "NSE_EQ|INE528G01035", "NSE_EQ|INE758T01015", "NSE_EQ|INE010B01027"
]

# Data Configuration
INTERVALS = {
    "short_term": "1D",    # Daily for short-term analysis (3-6 months)
    "long_term": "1W"      # Weekly for long-term analysis (>1 year)
}
SHORT_TERM_LOOKBACK = 180  # ~6 months in trading days
LONG_TERM_LOOKBACK = 365   # 1 year

# Technical Indicator Parameters
INDICATORS = {
    # Trend Indicators
    "moving_averages": {
        "ema_short": 9,
        "ema_long": 21,
        "sma_mid": 50,
        "sma_long": 200
    },
    "macd": {
        "fast_period": 12,
        "slow_period": 26,
        "signal_period": 9
    },
    "supertrend": {
        "period": 10,
        "multiplier": 3
    },
    "parabolic_sar": {
        "acceleration_factor": 0.02,
        "max_acceleration_factor": 0.2
    },
    "aroon": {
        "period": 25,
        "uptrend_threshold": 70,
        "downtrend_threshold": 30
    },
    
    # Momentum Indicators
    "rsi": {
        "period": 14,
        "oversold": 30,
        "overbought": 70
    },
    "stochastic": {
        "k_period": 14,
        "d_period": 3,
        "oversold": 20,
        "overbought": 80
    },
    "roc": {
        "period": 10
    },
    
    # Volatility Indicators
    "bollinger_bands": {
        "period": 20,
        "std_dev": 2
    },
    "atr": {
        "period": 14,
        "multiplier": 1.5
    }
}

# Signal Thresholds
SIGNAL_STRENGTH = {
    "weak": 1,      # One indicator showing buy/sell
    "moderate": 2,  # Two indicators showing buy/sell
    "strong": 3,    # Three or more indicators showing buy/sell
    "very_strong": 5  # Five or more indicators showing buy/sell
}

# Minimum signal strength to generate alert
MINIMUM_SIGNAL_STRENGTH = 3

# Candlestick Pattern Recognition Settings
# True = detect this pattern
CANDLESTICK_PATTERNS = {
    "bullish_engulfing": True,
    "bearish_engulfing": True,
    "doji": True,
    "hammer": True,
    "shooting_star": True,
    "morning_star": True,
    "evening_star": True,
}

# Chart Pattern Recognition Settings
CHART_PATTERNS = {
    "head_and_shoulders": True,
    "inverse_head_and_shoulders": True,
    "double_top": True,
    "double_bottom": True,
    "cup_and_handle": True
}

# How often to run the analysis (in hours)
ANALYSIS_FREQUENCY = 1  # Run every hour

# Message Template with MarkdownV2 Safe Formatting
SIGNAL_MESSAGE_TEMPLATE = """
*TRADING SIGNAL ALERT* 

*Stock:* {stock_name} ({stock_symbol})
*Current Price:* â‚¹{current_price}
*Signal Type:* {signal_type}
*Timeframe:* {timeframe}
*Strength:* {strength}\\/5  (Escaped `/`)

*Technical Indicators:*
{indicators}

*Patterns Detected:*
{patterns}

*Recommendation:*
{recommendation}

*Generated:* {timestamp}
"""
